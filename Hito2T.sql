CREATE DATABASE  IF NOT EXISTS DATOS_ENCUESTAS;

USE DATOS_ENCUESTAS;

CREATE TABLE PROVINCIA (
  CODPROV char(2) NOT NULL PRIMARY KEY,
  NOMBRE varchar(30) DEFAULT NULL
);

CREATE TABLE ENCUESTAS (
  IDENCUESTA INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  CODPROV char(2) DEFAULT NULL,
  SONIDO tinyint DEFAULT NULL,
  IMAGEN tinyint DEFAULT NULL,
  USABILIDAD tinyint DEFAULT NULL,
  FOREIGN KEY (CODPROV) REFERENCES PROVINCIA(CODPROV)
);

INSERT INTO PROVINCIA VALUES ('01','Araba/Álava'),('02','Albacete'),('03','Alacant/Alicante'),('04','Almería'),('05','Ávila'),('06','Badajoz'),('07','Illes Balears'),('08','Barcelona'),('09','Burgos'),('10','Cáceres'),('11','Cádiz'),('12','Castelló/Castellón'),('13','Ciudad Real'),('14','Córdoba'),('15','A Coruña'),('16','Cuenca'),('17','Girona'),('18','Granada'),('19','Guadalajara'),('20','Gipuzkoa'),('21','Huelva'),('22','Huesca'),('23','Jaén'),('24','León'),('25','Lleida'),('26','La Rioja'),('27','Lugo'),('28','Madrid'),('29','Málaga'),('30','Murcia'),('31','Navarra'),('32','Ourense'),('33','Asturias'),('34','Palencia'),('35','Las Palmas'),('36','Pontevedra'),('37','Salamanca'),('38','Santa Cruz de Tenerife'),('39','Cantabria'),('40','Segovia'),('41','Sevilla'),('42','Soria'),('43','Tarragona'),('44','Teruel'),('45','Toledo'),('46','València/Valencia'),('47','Valladolid'),('48','Bizkaia'),('49','Zamora'),('50','Zaragoza'),('51','Ceuta'),('52','Melilla');



INSERT INTO ENCUESTAS VALUES (1,'01',1,3,3),(2,'01',7,5,3),(3,'01',8,3,10),(4,'01',10,8,10),(5,'01',8,6,7),(6,'01',5,5,1),(7,'01',10,3,7),(8,'01',6,8,9),(9,'01',4,1,5),(10,'01',8,5,2),(11,'02',5,9,6),(12,'02',6,1,6),(13,'02',8,9,2),(14,'02',3,8,1),(15,'02',9,3,7),(16,'02',5,4,5),(17,'02',3,1,3),(18,'02',1,8,6),(19,'02',3,10,9),(20,'02',4,3,4),(21,'03',7,6,7),(22,'03',5,5,7),(23,'03',2,10,1),(24,'03',5,3,9),(25,'03',6,1,6),(26,'03',6,3,4),(27,'03',2,9,8),(28,'03',10,9,3),(29,'03',8,2,3),(30,'03',8,10,8),(31,'04',8,7,8),(32,'04',9,9,9),(33,'04',7,7,4),(34,'04',10,5,7),(35,'04',7,6,10),(36,'04',8,9,4),(37,'04',9,3,8),(38,'04',10,5,7),(39,'04',8,9,1),(40,'04',9,8,6),(41,'05',2,4,3),(42,'05',2,2,1),(43,'05',1,1,2),(44,'05',6,1,10),(45,'05',3,7,4),(46,'05',9,4,1),(47,'05',1,3,10),(48,'05',2,8,5),(49,'05',9,1,8),(50,'05',6,4,4),(51,'06',6,9,5),(52,'06',9,8,3),(53,'06',10,9,5),(54,'06',8,3,10),(55,'06',3,2,10),(56,'06',6,7,6),(57,'06',10,1,4),(58,'06',5,4,6),(59,'06',5,8,5),(60,'06',1,7,2),(61,'07',7,10,7),(62,'07',8,5,2),(63,'07',6,10,5),(64,'07',3,9,6),(65,'07',4,1,2),(66,'07',6,6,9),(67,'07',9,7,8),(68,'07',9,9,7),(69,'07',6,2,8),(70,'07',6,5,7),(71,'08',1,10,8),(72,'08',10,6,10),(73,'08',2,8,3),(74,'08',10,2,8),(75,'08',6,5,5),(76,'08',10,5,3),(77,'08',2,8,5),(78,'08',1,8,8),(79,'08',5,1,9),(80,'08',2,10,7),(81,'09',1,6,6),(82,'09',1,7,3),(83,'09',2,9,2),(84,'09',9,9,8),(85,'09',1,10,7),(86,'09',5,4,4),(87,'09',7,5,2),(88,'09',5,6,6),(89,'09',3,5,5),(90,'09',1,9,2),(91,'10',10,6,9),(92,'10',8,2,4),(93,'10',6,7,7),(94,'10',1,7,8),(95,'10',1,8,9),(96,'10',8,2,6),(97,'10',4,10,7),(98,'10',7,2,8),(99,'10',5,2,2),(100,'10',5,6,7),(101,'11',4,10,7),(102,'11',4,9,4),(103,'11',10,8,2),(104,'11',2,5,9),(105,'11',9,6,5),(106,'11',5,9,1),(107,'11',8,6,5),(108,'11',8,2,7),(109,'11',9,4,1),(110,'11',1,3,3),(111,'12',5,4,3),(112,'12',5,5,10),(113,'12',6,8,1),(114,'12',2,5,8),(115,'12',7,10,10),(116,'12',7,5,4),(117,'12',3,2,3),(118,'12',9,5,6),(119,'12',3,9,5),(120,'12',8,6,4),(121,'13',10,10,9),(122,'13',5,5,10),(123,'13',6,1,4),(124,'13',9,1,8),(125,'13',4,9,9),(126,'13',10,3,4),(127,'13',10,9,3),(128,'13',8,10,5),(129,'13',6,3,9),(130,'13',5,8,2),(131,'14',6,3,6),(132,'14',3,5,7),(133,'14',9,5,6),(134,'14',4,1,1),(135,'14',4,6,7),(136,'14',7,4,9),(137,'14',3,9,2),(138,'14',5,8,4),(139,'14',8,4,6),(140,'14',9,5,7),(141,'15',1,2,5),(142,'15',2,4,1),(143,'15',3,2,9),(144,'15',10,2,10),(145,'15',4,9,4),(146,'15',10,10,8),(147,'15',10,6,8),(148,'15',4,5,3),(149,'15',8,3,7),(150,'15',7,4,10),(151,'16',5,3,2),(152,'16',1,6,9),(153,'16',4,4,5),(154,'16',5,7,2),(155,'16',8,2,8),(156,'16',1,2,5),(157,'16',7,3,1),(158,'16',7,3,1),(159,'16',4,9,1),(160,'16',8,5,1),(161,'17',8,8,6),(162,'17',6,1,8),(163,'17',6,3,9),(164,'17',7,5,5),(165,'17',7,1,5),(166,'17',10,6,7),(167,'17',6,10,3),(168,'17',4,9,3),(169,'17',8,1,1),(170,'17',10,9,2),(171,'18',3,8,10),(172,'18',5,7,9),(173,'18',2,2,6),(174,'18',10,5,4),(175,'18',2,8,5),(176,'18',10,6,9),(177,'18',8,10,5),(178,'18',6,5,6),(179,'18',6,2,10),(180,'18',5,4,4),(181,'19',9,3,5),(182,'19',5,9,9),(183,'19',9,7,8),(184,'19',10,4,9),(185,'19',2,3,9),(186,'19',5,6,7),(187,'19',4,9,1),(188,'19',9,3,8),(189,'19',1,1,1),(190,'19',1,10,8),(191,'20',9,10,3),(192,'20',6,1,7),(193,'20',9,3,10),(194,'20',10,1,3),(195,'20',10,2,1),(196,'20',6,9,6),(197,'20',3,6,1),(198,'20',6,6,3),(199,'20',4,4,4),(200,'20',10,7,6),(201,'21',5,9,8),(202,'21',3,1,7),(203,'21',10,10,9),(204,'21',6,1,5),(205,'21',1,1,3),(206,'21',9,7,8),(207,'21',9,9,10),(208,'21',1,4,9),(209,'21',9,9,5),(210,'21',10,6,8),(211,'22',1,10,7),(212,'22',5,5,9),(213,'22',7,1,1),(214,'22',1,3,2),(215,'22',8,4,5),(216,'22',5,8,4),(217,'22',7,2,7),(218,'22',10,8,8),(219,'22',8,4,8),(220,'22',4,8,7),(221,'23',9,6,9),(222,'23',10,1,6),(223,'23',7,7,1),(224,'23',2,10,2),(225,'23',8,3,1),(226,'23',6,8,10),(227,'23',4,1,2),(228,'23',6,4,1),(229,'23',5,8,7),(230,'23',9,3,9),(231,'24',5,6,7),(232,'24',7,4,9),(233,'24',3,8,10),(234,'24',3,6,10),(235,'24',3,4,1),(236,'24',1,10,10),(237,'24',7,7,3),(238,'24',3,5,8),(239,'24',2,6,2),(240,'24',2,4,3),(241,'25',2,1,6),(242,'25',10,1,3),(243,'25',2,2,4),(244,'25',4,6,7),(245,'25',7,4,6),(246,'25',9,8,2),(247,'25',3,1,6),(248,'25',6,3,5),(249,'25',4,7,2),(250,'25',9,8,4),(251,'26',7,9,4),(252,'26',3,10,4),(253,'26',9,1,8),(254,'26',7,1,3),(255,'26',2,1,7),(256,'26',4,8,6),(257,'26',7,6,9),(258,'26',5,9,7),(259,'26',8,1,10),(260,'26',4,2,7),(261,'27',9,4,10),(262,'27',10,10,8),(263,'27',1,9,4),(264,'27',10,7,3),(265,'27',7,3,6),(266,'27',9,8,3),(267,'27',1,4,6),(268,'27',9,6,10),(269,'27',5,3,9),(270,'27',7,9,10),(271,'28',4,1,1),(272,'28',1,10,9),(273,'28',5,8,4),(274,'28',6,8,2),(275,'28',5,7,1),(276,'28',3,3,3),(277,'28',8,9,3),(278,'28',5,8,3),(279,'28',2,8,5),(280,'28',2,2,4),(281,'29',4,9,10),(282,'29',4,1,10),(283,'29',9,5,7),(284,'29',8,9,10),(285,'29',4,9,1),(286,'29',8,5,1),(287,'29',10,5,4),(288,'29',5,2,6),(289,'29',3,8,1),(290,'29',1,1,9),(291,'30',3,8,1),(292,'30',8,8,7),(293,'30',9,2,2),(294,'30',6,2,3),(295,'30',7,8,6),(296,'30',5,7,8),(297,'30',1,1,2),(298,'30',5,8,6),(299,'30',3,7,7),(300,'30',2,9,10),(301,'31',1,4,9),(302,'31',1,6,10),(303,'31',8,1,1),(304,'31',1,10,9),(305,'31',5,5,2),(306,'31',2,3,1),(307,'31',5,1,9),(308,'31',10,5,4),(309,'31',4,7,1),(310,'31',6,4,2),(311,'32',6,7,4),(312,'32',7,6,7),(313,'32',7,5,1),(314,'32',2,6,5),(315,'32',4,7,3),(316,'32',2,1,10),(317,'32',7,1,7),(318,'32',9,3,9),(319,'32',3,10,1),(320,'32',4,6,7),(321,'33',5,6,5),(322,'33',6,5,6),(323,'33',6,10,1),(324,'33',7,8,2),(325,'33',3,1,3),(326,'33',10,3,5),(327,'33',6,4,1),(328,'33',2,9,7),(329,'33',6,2,8),(330,'33',6,6,9),(331,'34',8,3,9),(332,'34',7,7,3),(333,'34',2,1,10),(334,'34',7,5,4),(335,'34',2,10,4),(336,'34',10,5,7),(337,'34',9,4,1),(338,'34',1,4,7),(339,'34',10,9,6),(340,'34',2,9,2),(341,'35',10,3,5),(342,'35',4,6,9),(343,'35',7,8,5),(344,'35',3,10,1),(345,'35',3,2,9),(346,'35',7,1,4),(347,'35',4,9,3),(348,'35',5,7,9),(349,'35',3,9,3),(350,'35',7,9,1),(351,'36',6,10,9),(352,'36',6,2,3),(353,'36',8,10,6),(354,'36',8,2,7),(355,'36',9,1,1),(356,'36',8,9,10),(357,'36',10,2,9),(358,'36',10,1,7),(359,'36',8,9,3),(360,'36',6,1,7),(361,'37',3,1,7),(362,'37',9,6,1),(363,'37',7,4,5),(364,'37',2,6,4),(365,'37',9,4,4),(366,'37',5,5,9),(367,'37',9,6,5),(368,'37',4,7,1),(369,'37',3,2,10),(370,'37',6,7,6),(371,'38',8,3,2),(372,'38',10,4,9),(373,'38',1,9,2),(374,'38',3,8,2),(375,'38',5,6,8),(376,'38',10,5,6),(377,'38',2,5,6),(378,'38',5,5,3),(379,'38',7,5,5),(380,'38',8,6,5),(381,'39',7,10,10),(382,'39',8,8,7),(383,'39',2,7,9),(384,'39',2,5,7),(385,'39',2,6,5),(386,'39',7,9,3),(387,'39',7,6,8),(388,'39',3,1,6),(389,'39',5,6,7),(390,'39',5,4,4),(391,'40',6,7,10),(392,'40',6,10,3),(393,'40',2,10,3),(394,'40',5,8,2),(395,'40',6,3,6),(396,'40',2,10,6),(397,'40',9,4,4),(398,'40',7,2,1),(399,'40',6,8,1),(400,'40',1,1,1),(401,'41',3,2,1),(402,'41',6,7,7),(403,'41',1,7,10),(404,'41',7,5,4),(405,'41',6,8,10),(406,'41',8,8,4),(407,'41',7,10,1),(408,'41',3,2,1),(409,'41',8,5,10),(410,'41',4,3,9),(411,'42',7,6,9),(412,'42',8,2,4),(413,'42',6,8,1),(414,'42',9,2,3),(415,'42',10,8,9),(416,'42',10,4,8),(417,'42',6,8,3),(418,'42',8,10,5),(419,'42',6,2,3),(420,'42',8,9,4),(421,'43',10,7,7),(422,'43',3,4,9),(423,'43',1,10,7),(424,'43',2,10,4),(425,'43',10,6,1),(426,'43',6,5,9),(427,'43',10,3,5),(428,'43',7,6,8),(429,'43',3,10,2),(430,'43',10,3,2),(431,'44',3,7,4),(432,'44',10,8,9),(433,'44',10,4,1),(434,'44',10,6,2),(435,'44',9,9,8),(436,'44',1,2,6),(437,'44',2,3,8),(438,'44',10,6,1),(439,'44',6,5,8),(440,'44',2,8,2),(441,'45',7,7,6),(442,'45',6,3,5),(443,'45',6,4,1),(444,'45',2,9,9),(445,'45',6,1,8),(446,'45',5,1,8),(447,'45',8,3,4),(448,'45',10,6,10),(449,'45',1,4,7),(450,'45',2,8,2),(451,'46',8,3,1),(452,'46',6,7,6),(453,'46',10,2,8),(454,'46',4,5,4),(455,'46',3,2,2),(456,'46',2,4,3),(457,'46',4,9,3),(458,'46',8,9,1),(459,'46',10,4,1),(460,'46',3,9,6),(461,'47',4,1,2),(462,'47',8,4,3),(463,'47',3,8,8),(464,'47',7,1,3),(465,'47',2,10,6),(466,'47',6,2,10),(467,'47',6,10,2),(468,'47',10,4,7),(469,'47',4,8,10),(470,'47',2,2,2),(471,'48',2,7,7),(472,'48',2,9,9),(473,'48',7,6,2),(474,'48',9,10,3),(475,'48',4,1,2),(476,'48',7,10,7),(477,'48',7,1,3),(478,'48',2,9,1),(479,'48',7,1,2),(480,'48',6,4,3),(481,'49',1,5,1),(482,'49',9,4,10),(483,'49',7,6,7),(484,'49',6,8,4),(485,'49',5,4,2),(486,'49',7,1,1),(487,'49',10,10,8),(488,'49',1,1,9),(489,'49',4,1,1),(490,'49',3,3,4),(491,'50',3,9,7),(492,'50',8,8,5),(493,'50',10,4,1),(494,'50',2,8,3),(495,'50',1,6,7),(496,'50',7,2,8),(497,'50',3,10,10),(498,'50',9,8,9),(499,'50',3,5,5),(500,'50',2,5,7),(501,'51',2,6,3),(502,'51',5,8,4),(503,'51',4,9,3),(504,'51',8,8,6),(505,'51',6,9,10),(506,'51',2,9,8),(507,'51',4,5,4),(508,'51',1,6,4),(509,'51',2,10,10),(510,'51',2,8,6),(511,'52',2,4,5),(512,'52',9,2,10),(513,'52',5,3,10),(514,'52',3,2,2),(515,'52',3,7,9),(516,'52',10,3,6),(517,'52',9,8,1),(518,'52',1,1,4),(519,'52',4,9,2),(520,'52',1,1,9);

create user lector identified by '1234';
create user editor identified by '1234';
grant select on encuestas to lector;
grant select on provincia to lector;
grant select on provincia to editor;
grant insert on provincia  to editor;
grant update on provincia  to editor;
grant delete on provincia  to editor;
grant select on encuestas to editor;
grant insert on encuestas to editor;
grant update on encuestas to editor;
grant delete on encuestas to editor;
SELECT * FROM ENCUESTAS INNER JOIN PROVINCIA ON ENCUESTAS.CODPROV = PROVINCIA.CODPROV;